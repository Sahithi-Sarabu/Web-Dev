{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/recipe.js","webpack:///./src/serviceCalls.js"],"names":["appState","isLoggedIn","recipes","error","page","document","querySelector","renderPage","renderMain","renderMainLoggedIn","renderErrors","recipesList","innerHTML","renderRecipes","map","recipe","id","title","author","join","renderRecipeDetails","recipeDetails","ingredients","split","ingredient","instructions","renderLogin","renderAddRecipe","addEventListener","e","target","classList","contains","fetchLogout","then","err","name","previousElementSibling","value","fetchLogin","preventDefault","dataset","fetchRecipeDetails","result","fetchRecipes","children","procedure","fetchAddRecipeDetails","text","fetchLoginStatus","recipeList","fetch","method","Promise","reject","response","ok","json","username","headers","body","JSON","stringify","recipeId"],"mappings":"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","file":"recipe.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/recipe.js\");\n","import {\r\n    fetchLoginStatus,\r\n    fetchRecipeDetails,\r\n    fetchRecipes,\r\n    fetchLogin,\r\n    fetchLogout,\r\n    fetchAddRecipeDetails,\r\n} from './serviceCalls';\r\n\r\nconst appState = {\r\n    isLoggedIn : false,\r\n    recipes: [],\r\n    error: '',\r\n};\r\n\r\nconst page = document.querySelector('.main');\r\n\r\nfunction renderPage() {\r\n    if(!appState.isLoggedIn)  {\r\n      renderMain(appState.recipes);\r\n    } else {\r\n      renderMainLoggedIn(appState.recipes);\r\n    }\r\n    renderErrors(appState.error);\r\n}\r\n\r\nfunction renderMainLoggedIn(recipesList) {\r\n    page.innerHTML = `\r\n    <h2>Tasty Treats</h2>\r\n      <button class=\"add\">Add New Recipe</button>\r\n      <button class=\"logout-button\">Logout</button>\r\n      <div class=\"recipe-list\">\r\n        <ul class=\"recipes\"></ul>\r\n      </div>`\r\n      renderRecipes(recipesList);\r\n}\r\n\r\nfunction renderMain(recipesList) {\r\n    page.innerHTML = `\r\n    <h2>Tasty Treats</h2>\r\n     <button class=\"login-button\">Login</button>\r\n     <div class=\"recipe-list\">\r\n      <ul class=\"recipes\"></ul>\r\n     </div>`\r\n     renderRecipes(recipesList);\r\n}\r\n\r\nfunction renderRecipes( recipesList) {\r\n    const recipes = page.querySelector('.recipes');\r\n    recipes.innerHTML = recipesList.map( (recipe) =>{\r\n        return `\r\n        <li>\r\n          <div class=\"recipe-details\">\r\n            <a class=\"recipe-title\" href=\"/recipes/${recipe.id}\"  data-id=\"${recipe.id}\">${recipe.title}</a>\r\n            <span class=\"recipe-author\">By ${recipe.author}</span>\r\n          </div>\r\n        </li> `;\r\n    }).join('');\r\n}\r\n\r\nfunction renderRecipeDetails(recipeDetails) {\r\n    let ingredients = recipeDetails.ingredients.split(\",\");\r\n    page.innerHTML = `\r\n    <h2>Tasty Treats</h2>\r\n     <button class=\"home\">Home</button>\r\n     <div class=\"recipe-indetail\">\r\n      <label class=\"label-text\">Author: </label>\r\n      <span class=\"text\">${recipeDetails.author}</span><br>\r\n      <label class=\"label-text\">Recipe Name: </label>\r\n      <span class=\"text\">${recipeDetails.title}</span><br>\r\n      <label class=\"label-text\">Ingredients: </label><br>\r\n      <ul class=\"ingredients-list\"> ` + ingredients.map( (ingredient) => {\r\n          return `<li>${ingredient}</li>`\r\n      }).join('') + `</ul>\r\n      <label class=\"label-text\">Directions: </label><br>\r\n      <div class=\"text\">${recipeDetails.instructions}</div>\r\n     </div>`\r\n}\r\n\r\nfunction renderLogin(){\r\n    page.innerHTML = `<div class=\"login\"><input class=\"user-name\" placeholder=\"Enter your name\"/><button class=\"add-user\">Sign in</button></div>`;\r\n}\r\n\r\nfunction renderAddRecipe(){\r\n    page.innerHTML = `\r\n        <h2>Tasty Treats</h2>\r\n        <button class=\"home\">Home</button>\r\n        <div class=\"recipe\">\r\n            <label class=\"label-text\">Title</label><br>\r\n            <input class=\"title\" placeholder=\"Enter recipe title\"></input><br>\r\n            <label class=\"label-text\">Ingredients</label><br>\r\n            <textarea rows=\"3\" cols=\"60\" placeholder=\"Enter ingredients separated by comma\"></textarea><br>\r\n            <label class=\"label-text\">Directions</label><br>\r\n            <textarea rows=\"10\" cols=\"60\" placeholder=\"Enter procedure\"></textarea>\r\n        </div>\r\n        <button class=\"add-recipe\">Add</button>`\r\n}\r\n\r\npage.addEventListener('click', (e) => {\r\n    if(e.target.classList.contains('logout-button')){\r\n        fetchLogout()\r\n        .then( () =>{\r\n            appState.isLoggedIn = false;\r\n            appState.error = '';\r\n            renderPage();\r\n        })\r\n        .catch( err => {\r\n            appState.error = err;\r\n            renderPage();\r\n        })\r\n    }\r\n\r\n    if(e.target.classList.contains('login-button')){\r\n        renderLogin();\r\n        renderErrors(appState.error);\r\n    }\r\n\r\n    if(e.target.classList.contains('add-user')){\r\n        const name = e.target.previousElementSibling.value;\r\n        fetchLogin(name)\r\n        .then( recipesList => {\r\n            appState.isLoggedIn = true;\r\n            appState.recipes = recipesList;\r\n            appState.error = '';\r\n            renderPage();\r\n        })\r\n        .catch( err => {\r\n            appState.error = err.error;\r\n            renderLogin();\r\n            renderErrors(appState.error);\r\n        });\r\n    }\r\n\r\n    if(e.target.classList.contains('recipe-title')){\r\n        e.preventDefault();\r\n        const id = e.target.dataset.id;\r\n        fetchRecipeDetails(id)\r\n        .then( recipeDetails => {\r\n            renderRecipeDetails(recipeDetails);\r\n        })\r\n        .catch( result =>{\r\n            appState.error = result.error;\r\n            if(appState.error == 'Logged Out'){\r\n                renderRecipeDetails(result.result);\r\n                appState.isLoggedIn = false;\r\n            }else{\r\n                renderPage();\r\n            }\r\n        })\r\n    }\r\n\r\n    if(e.target.classList.contains('home')){\r\n        fetchRecipes()\r\n        .then( recipesList => {\r\n            appState.recipes = recipesList;\r\n            appState.error = '';\r\n            renderPage();\r\n        })\r\n        .catch(err =>{\r\n            appState.error = err.error;\r\n            renderPage();\r\n        })\r\n    }\r\n\r\n    if(e.target.classList.contains('add')){\r\n        renderAddRecipe();\r\n    }\r\n\r\n    if(e.target.classList.contains('add-recipe')){\r\n        const title = e.target.previousElementSibling.children[2].value;\r\n        const ingredients = e.target.previousElementSibling.children[6].value;\r\n        const procedure = e.target.previousElementSibling.children[10].value;\r\n        fetchAddRecipeDetails(title, ingredients, procedure)\r\n        .then( result => {\r\n            /*appState.recipes = result.result;\r\n            appState.error = result.error;\r\n            renderPage();*/\r\n            appState.error = result.error;\r\n            renderRecipeDetails(result.result);\r\n            renderErrors(appState.error);\r\n        })\r\n        .catch(result =>{\r\n            appState.error = result.error;\r\n            if(appState.error == 'Login to add recipe'){\r\n                appState.isLoggedIn = false;\r\n                appState.recipes = result.result;\r\n                renderPage();\r\n            }else{\r\n                renderAddRecipe();\r\n                renderErrors(appState.error);\r\n            }\r\n        })\r\n    }\r\n})\r\n\r\nfunction renderErrors(text ){\r\n    document.querySelector('.status').innerHTML = text;\r\n}\r\n\r\nfetchLoginStatus()\r\n.then( recipesList => {\r\n    appState.recipes = recipesList;\r\n    appState.isLoggedIn = true;\r\n    appState.error = '';\r\n    renderPage();\r\n})\r\n.catch( recipeList => {\r\n    appState.isLoggedIn = false;\r\n    appState.recipes = recipeList\r\n    renderPage();\r\n});","export const fetchLoginStatus = () => {\r\n    return fetch('/session', {\r\n        method: 'GET',\r\n    })\r\n    .catch( () => Promise.reject({ error: 'network-error' }))\r\n    .then( (response) =>{\r\n        if(!response.ok){\r\n          return response.json().then( recipeList => Promise.reject(recipeList));\r\n        }\r\n        return response.json();\r\n    });\r\n}\r\n\r\n\r\nexport const fetchLogin = (username) =>{\r\n    return fetch('/session', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ name: username }),\r\n    })\r\n    .catch( () => Promise.reject({ error: 'network-error'}))\r\n    .then( (response) => {\r\n        if(!response.ok){\r\n            return response.json().then( err => Promise.reject(err));\r\n        }\r\n        return response.json();\r\n    });\r\n}\r\n\r\nexport const fetchLogout = () => {\r\n    return fetch('/session', {\r\n        method: 'DELETE',\r\n    })\r\n    .catch( () => Promise.reject({ error: 'network-error'}))\r\n    .then( (response) => {\r\n        if(!response.ok){\r\n            return Promise.reject({ error: 'Error logging out'})\r\n        }\r\n        return;\r\n    });\r\n}\r\n\r\nexport const fetchRecipeDetails = (recipeId) => {\r\n    return fetch(`/recipeDetails/${recipeId}`, { \r\n        method: 'GET',\r\n    })\r\n    .catch( () => Promise.reject({ error: 'Network-error'}))\r\n    .then( (response) =>{\r\n        if(!response.ok){\r\n            return response.json().then( result => Promise.reject(result))\r\n        }\r\n        return response.json()\r\n    })\r\n}\r\n\r\nexport const fetchRecipes = () => {\r\n    return fetch('/recipes', {\r\n        method: 'GET',\r\n    })\r\n    .catch( () => Promise.reject({ error: 'Network-error'}))\r\n    .then( (response) => {\r\n        if(!response.ok){\r\n            return response.json().then( err => Promise.reject(err));\r\n        }\r\n        return response.json();\r\n    })\r\n}\r\n\r\nexport const fetchAddRecipeDetails = (title, ingredients, procedure) => {\r\n    return fetch('/recipes', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ title : title, ingredients: ingredients , procedure: procedure }),\r\n    })\r\n    .catch( () => Promise.reject({ error: 'Network-error'}))\r\n    .then( (response) => {\r\n        if(!response.ok){\r\n            return response.json().then( result => Promise.reject(result));\r\n        }\r\n        return response.json();\r\n    })\r\n}"],"sourceRoot":""}